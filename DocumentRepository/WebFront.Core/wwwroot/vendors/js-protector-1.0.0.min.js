"use strict";var $p=new function(){var t=this,n={"violation-cross-site":"An attempt was made to open a webpage of unauthorized domain.","violation-dom-selector":"An attempt was made to apply unauthorized script.","violation-html":"An attempt was made to apply unauthorized script."},i=[],r=function(t){var s=u(t),f=s.host.trim(),r=!1,e,o;if(f=="")r=!0;else if(f.toUpperCase()==location.host.trim().toUpperCase())r=!0;else for(e in i)if(o=new RegExp(i[e]),o.test(f)){r=!0;break}if(r)return t;alert(n["violation-cross-site"]);throw n["violation-cross-site"]+t;},u=function(n){var t=document.createElement("a");return t.href=n,{source:n,protocol:t.protocol.replace(":",""),hostname:t.hostname,host:t.host,port:t.port,query:t.search,params:function(){for(var u={},i=t.search.replace(/^\?/,"").split("&"),f=i.length,n=0,r;n<f;n++)i[n]&&(r=i[n].split("="),u[r[0]]=r[1]);return u}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}},f=function(t){if(t!==window&&t!==document&&/[\<|\>|\&|\%]/g.test(t)){alert(n["violation-dom-selector"]);throw n["violation-dom-selector"]+t;}else return t},e=function(t){if(/<script/g.test(t)){alert(n["violation-html"]);throw n["violation-html"]+t;}return t},o=function(){var n=new XMLHttpRequest;n.open("GET","/request.png",!0);n.onreadystatechange=function(){var r,u,f,t;if(n.readyState===XMLHttpRequest.DONE&&(r=n.status,r===0||r>=200&&r<400)){u=n.getResponseHeader("Content-Security-Policy").split(" ");for(f in u)(t=u[f],/(\'([\w|\W]{1,})\')|(frame-ancestors)|(data:)|(default-src)/.test(t))||(t=t.replace(/([^a-zA-Z0-9])/g,"\\$1").replace(/[*]/g,".*"),i.push(t))}};n.send(null)};o();t.url=r;t.dom=f;t.html=e};